@model List<AppointmentServiceModel>

<table class="table table-hover">
    <thead class="thead-dark">
        <tr>
            <th scope="col">Date</th>
            <th scope="col">Physician</th>
            <th scope="col">Patient</th>
            <th scope="col">Is Approved</th>
            <th scope="col"></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var appointment in Model)
        {
            <tr>
                <th scope="row">@appointment.Date</th>
                <td>@appointment.PhysicianName</td>
                <td>@appointment.PatientName</td>
                <td>@appointment.IsApproved</td>
                <td>
                    @if (this.User.IsPatient())
                    {
                        <a class="btn btn-primary" asp-area="" asp-controller="Physicians" asp-action="Details" asp-route-physicianId="@appointment.PhysicianId">Physician Details</a>
                        <a class="btn btn-primary" asp-area="" asp-controller="Reviews" asp-action="Write" asp-route-physicianId="@appointment.PhysicianId">Write Review</a>
                    }
                    @if (this.User.IsPhysician())
                    {
                        <a class="btn btn-@(appointment.IsApproved ? "danger" : "success")" 
                           asp-area="" 
                           asp-controller="Appointments" 
                           asp-action="ChangeStatus" 
                           asp-route-appointmentId="@appointment.Id">
                            @(appointment.IsApproved ? "Decline" : "Accept")
                        </a>
                    } 
                </td>
            </tr>
         }
    </tbody>
</table>
